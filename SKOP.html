<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Jetpack Platformer with Smooth Inertia â€” Glide Tweaked</title>
  <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <!-- Power button UI -->
  <div id="power0" class="power">
    <div id="power0CD" class="coolDown"></div>
    <div id="power0Heat" class="heat"></div>
    <img id="power0Img" src="https://skap.io/textures/powers/shrinker.svg" class="powerImage" alt="Shrinker power icon" />
    <div class="selectclip">
      <div id="power0select" class="select">
        <div class="poweroption hidden" data-slot="0" data-power="0">
          <img src="https://skap.io/textures/powers/shrinker.svg" width="40" height="40" alt="Shrinker" />
        </div>
      </div>
    </div>
  </div>

  <!-- HUD toggles -->
  <div id="fpsCounter">FPS: 0</div>
  <div id="playerState">State: Alive</div>
  <div id="zoomIndicator" aria-live="polite"></div>

  <!-- Settings overlay (opened with Escape) -->
  <div id="settingsOverlay">
    <div class="settings-panel">
      <h2 class="settings-title">Settings</h2>

      <!-- Graphics -->
      <section class="settings-section">
        <h3 class="rainbow-heading">Graphics</h3>

        <label class="settings-row">
          <span>Player interpolation</span>
          <input type="checkbox" id="opt-playerInterpolation" />
        </label>

        <div class="settings-row">
          <span>Network usage</span>
          <div class="settings-inline-options">
            <label><input type="radio" name="networkUsage" value="high" id="net-high" /> High</label>
            <label><input type="radio" name="networkUsage" value="medium" id="net-medium" /> Medium</label>
            <label><input type="radio" name="networkUsage" value="low" id="net-low" /> Low</label>
          </div>
        </div>

        <label class="settings-row">
          <span>Show FPS</span>
          <input type="checkbox" id="opt-showFPS" />
        </label>

        <label class="settings-row">
          <span>Key overlay</span>
          <input type="checkbox" id="opt-keyOverlay" />
        </label>

        <label class="settings-row">
          <span>Diagnostics</span>
          <input type="checkbox" id="opt-diagnostics" />
        </label>
      </section>

      <!-- Player -->
      <section class="settings-section">
        <h3 class="rainbow-heading">Player</h3>

        <div class="settings-row">
          <span>Color</span>
          <div class="color-row">
            <input type="color" id="playerColorPicker" />
            <input type="text" id="playerColorHex" placeholder="#086699" />
          </div>
        </div>

        <label class="settings-row">
          <span>Hitbox</span>
          <input type="checkbox" id="opt-hitbox" />
        </label>

        <label class="settings-row">
          <span>Display state of player<br /><small>(says if you are dead or not)</small></span>
          <input type="checkbox" id="opt-playerState" />
        </label>
      </section>

      <!-- Keybinds -->
      <section class="settings-section">
        <h3 class="rainbow-heading">Keybinds</h3>

        <div class="keybind-grid">
          <div class="keybind-row">
            <span class="keybind-label">Up</span>
            <button type="button" class="keybind-btn" data-action="up">W</button>
          </div>
          <div class="keybind-row">
            <span class="keybind-label">Down</span>
            <button type="button" class="keybind-btn" data-action="down">S</button>
          </div>
          <div class="keybind-row">
            <span class="keybind-label">Left</span>
            <button type="button" class="keybind-btn" data-action="left">A</button>
          </div>
          <div class="keybind-row">
            <span class="keybind-label">Right</span>
            <button type="button" class="keybind-btn" data-action="right">D</button>
          </div>
          <div class="keybind-row">
            <span class="keybind-label">Power 1</span>
            <button type="button" class="keybind-btn" data-action="power1">E</button>
          </div>
          <div class="keybind-row">
            <span class="keybind-label">Power 2</span>
            <button type="button" class="keybind-btn" data-action="power2">F</button>
          </div>
          <div class="keybind-row">
            <span class="keybind-label">Hitboxes</span>
            <button type="button" class="keybind-btn" data-action="hitboxes">O</button>
          </div>
        </div>

        <div class="settings-note">
          Each one has a space where you can click, then press the button you want to bind it to.<br />
          Defaults are: up = W, down = S, left = A, right = D, power1 = E, power2 = F, hitboxes = O.<br />
          All of this is stored in localStorage and reloaded automatically.
        </div>
      </section>

      <button id="settingsCloseBtn" class="settings-close-btn">Close (Esc)</button>
    </div>
  </div>

  <!-- Key overlay -->
  <div id="key-overlay">
    <div class="key-box" data-key="ShiftLeft" id="shift">Shift</div>
    <div class="key-box" data-key="KeyW" id="up">Up</div>
    <div class="key-box" data-key="Space" id="space">Space</div>
    <div class="key-box" data-key="KeyA" id="left">Left</div>
    <div class="key-box" data-key="KeyS" id="down">Down</div>
    <div class="key-box" data-key="KeyD" id="right">Right</div>
  </div>

  <!-- Render surface -->
  <canvas id="game"></canvas>

  <!-- Stamina bar -->
  <div id="fuelBarWrap"><div id="fuelBarInner"></div></div>

  <!-- Coords + diagnostics -->
  <div id="coords">Coords: 0, 0</div>
  <div id="statHUD">pos: 0, 0<br />vel: 0, 0 (0.000)</div>

  <!-- Placement menu -->
  <div id="placementMenu">
    <h3>Placement Menu (T to toggle)</h3>
    <div class="placeBtn selected" data-type="line" id="sel-line">
      <div style="width:20px;height:12px;background:#fff;border-radius:3px;"></div>
      <div>White Platform (line)</div>
    </div>
    <div class="placeBtn" data-type="blueplatform" id="sel-blue">
      <div style="width:20px;height:12px;background:#2b7bff;border-radius:3px;"></div>
      <div>Blue Platform (blueplatform)</div>
    </div>
    <div class="placeBtn" data-type="killbrick" id="sel-kill">
      <div style="width:18px;height:18px;background:#ff3b3b;"></div>
      <div>Kill Brick (killbrick)</div>
    </div>
    <label style="display:flex;align-items:center;gap:6px;margin-top:4px;font-size:13px;">
      <input type="checkbox" id="killbrickGridSnap" checked /> Grid Snap Killbrick
    </label>
    <div class="hint">Click to place at snapped grid (gridSize = 1). Use mouse wheel to change length for lines.</div>
  </div>

  <script src="assets/main.js" defer></script>
  <script src="assets/settings.js" defer></script>
</body>
</html>
